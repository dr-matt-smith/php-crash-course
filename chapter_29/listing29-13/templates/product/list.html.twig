{% extends 'base.html.twig' %}

{% block title %}Product List page{% endblock %}

{% block productLink %}active{% endblock %}

{% block body %}
    <h1>Product List page</h1>

    <ul>
        {% for product in products %}
            
            <li>
                id: {{ product.id }}
                <br>
                description: {{  product.description }}
                <br>
                price: $ {{ product.price | number_format(2) }}
                <br>
                <a href="/?action=show&id={{ product.id }}" class="btn btn-secondary m-1">Show</a>
                <br>
                <form method="POST" action="/?action=delete">
                    <input type="hidden" name="id" value="{{ product.id }}">
                    <button class="btn btn-danger m-1" onclick="return confirm('Delete product with ID = {{ product.id }}: Are you sure?');">
                        Delete</button>
                </form>
            </li>
        {% else %}
            <li>
                (there are no products to display)
            </li>
        {% endfor %}

    </ul>

    <p>
    <form method="POST" action="/?action=deleteAll">
        <button class="btn btn-danger m-1" onclick="return confirm('Delete ALL products: Are you sure?');">
            Delete ALL products</button>
    </form>
    </p>

    <p>
        <a href="/?action=create" class="btn btn-secondary m-1">
            Create NEW product
        </a>
    </p>


{% endblock %}
